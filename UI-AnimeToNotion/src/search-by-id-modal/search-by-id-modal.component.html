<div class="modal-header">
  <h5 class="modal-title montserrat-font" id="exampleModalLabel">Search by Identifier</h5>
  <button type="button"
          class="btn-close"
          aria-label="Close"
          (click)="modalRef.close()"></button>
</div>

<div class="p-2" style="margin:15px">
  <div class="d-flex">

    <div [hidden]="loading" class="flex-shrink-0 shadow-5-strong">
      <img src="{{animeModel?.main_picture?.medium}}" class="img-fluid" alt="{{animeModel?.alternative_titles?.en}}" />
    </div>

    <div [hidden]="!loading">
      <ngx-skeleton-loader [theme]="{height:'315px', width: '225px'}" animation="pulse"></ngx-skeleton-loader>
    </div>

    <div class="d-flex flex-column m-1 w-100 align-self-center p-3 flex-grow-0">

      <!--TITLE-->
      <h4 [hidden]="loading" class="title">{{animeModel?.alternative_titles?.en}}</h4>
      <ngx-skeleton-loader [hidden]="!loading" animation="pulse"></ngx-skeleton-loader>

      <!--ORIGINAL TITLE-->
      <div class="d-flex" style="margin-top:1rem">
        <div [hidden]="loading" style="margin-bottom: 0.5rem" class="flex-fill">
          <p class="type">Original</p>
          <p class="value">{{animeModel?.title}}</p>
        </div>

        <div [hidden]="loading" style="margin-bottom: 0.5rem; margin-left:0.5rem" class="flex-fill">
          <p class="type">Kanji</p>
          <p class="value">{{animeModel?.alternative_titles?.ja}}</p>
        </div>

        <div [hidden]="!loading" class="flex-fill">
          <ngx-skeleton-loader animation="pulse"></ngx-skeleton-loader>
          <ngx-skeleton-loader animation="pulse"></ngx-skeleton-loader>
        </div>

      </div>

      <hr [hidden]="loading" class="hr" />

      <!--RATING-->
      <div class="d-flex">
        <div [hidden]="loading" style="margin-bottom: 0.5rem" class="flex-fill">
          <p class="type">Rating</p>
          <p class="value">{{animeModel?.mean !== 0 ? animeModel?.mean : "N/A"}}</p>

          <div [hidden]="loading" class="progress">
            <div class="progress-bar bg-success" role="progressbar" [attr.aria-valuenow]="progressValue" [style]="progressPercentage" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>

        <div [hidden]="!loading" class="flex-fill">          
          <ngx-skeleton-loader animation="pulse"></ngx-skeleton-loader>
        </div>

      </div>
    </div>
  </div>

  <div [hidden]="loading" class="d-flex" style="margin-top:3rem">

    <!--BOTTOM LINE-->
    <div [hidden]="loading" style="margin-bottom: 0.5rem" class="flex-fill">
      <p class="type">Genres</p>
      <p class="value">{{animeModel?.genresJoined}}</p>
    </div>
    <div [hidden]="loading" style="margin-bottom: 0.5rem" class="flex-fill">
      <p class="type">Media</p>
      <p class="value">{{remapMediaType(animeModel?.media_type!)}}</p>
    </div>
    <div [hidden]="loading" style="margin-bottom: 0.5rem" class="flex-fill">
      <p class="type">Studio</p>
      <p class="value">{{animeModel?.studiosJoined}}</p>
    </div>
    <div [hidden]="loading" style="margin-bottom: 0.5rem" class="flex-fill">
      <p class="type">Started Airing</p>
      <p class="value">{{animeModel?.start_date !== null ? animeModel?.start_date : "Not available" }}</p>
    </div>
    <div [hidden]="loading" style="margin-bottom: 0.5rem" class="flex-fill">
      <p class="type">Episodes</p>
      <p class="value">{{animeModel?.num_episodes !== 0 ? animeModel?.num_episodes : "N/A"}}</p>
    </div>

  </div>

  <div [hidden]="!loading" class="d-flex">
    <div [hidden]="!loading" class="flex-fill">
      <ngx-skeleton-loader animation="pulse"></ngx-skeleton-loader>
      <ngx-skeleton-loader animation="pulse"></ngx-skeleton-loader>
    </div>
  </div>

</div>


<div class="modal-footer">  
  <button type="button" mdbRipple class="btn btn-primary" (click)="modalRef.close()">
    Close
  </button>
  <button type="button" mdbRipple class="btn btn-dark" (click)="postAddToNotion(animeModel!, $event)" [disabled]="loading || multiSeasonCheckBtn">
    <span>Add to Notion</span>
  </button>
</div>
